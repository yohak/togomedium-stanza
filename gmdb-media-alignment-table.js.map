{"version":3,"file":"gmdb-media-alignment-table.js","sources":["../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/consts.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/shared/utils/findBranchFromTrunk.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/functions/toggleFooterComponent.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/states/componentTree.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/FooterCell.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/states/isMediaExpanded.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/states/isOrganismsExpanded.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/FooterRow.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/HeaderCell.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/HeaderRow.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/AlignmentCell.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/InfoCell.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/MediaRow.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/functions/makeAlignmentData.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/functions/makeComponentBranch.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/functions/makeFooterComponents.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/AlignmentTable.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/InfoColumns.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/components/ScrollableTable.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/App.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-media-alignment-table/index.tsx"],"sourcesContent":["export const WIDTH_EXPANDED = \"200px\";\nexport const WIDTH_COMPACT = \"150px\";\nexport const WIDTH_ALIGNMENT_CELL = 40;\nexport const ROOT_COMPONENT = \"GMO_000002\";\n","import { TreeBranch } from \"./types\";\n\nexport const findBranchFromTrunk = <Branch extends TreeBranch>(\n  id: string,\n  tree: Branch[]\n): Branch | undefined => {\n  return tree.map((branch) => findNode(id, branch)).find((r) => !!r);\n};\n\n// https://stackoverflow.com/a/22222867/2207021\nfunction findNode<Branch extends TreeBranch>(id: string, currentNode: Branch): Branch | undefined {\n  let i, currentChild, result;\n  if (id == currentNode.id) {\n    return currentNode;\n  } else {\n    for (i = 0; i < currentNode.children.length; i += 1) {\n      currentChild = currentNode.children[i];\n      result = findNode(id, currentChild);\n      if (result !== undefined) {\n        return result as Branch;\n      }\n    }\n    return undefined;\n  }\n}\n","import { Optional } from \"yohak-tools\";\nimport { clone } from \"../../../shared/utils/clone\";\nimport { findBranchFromTrunk } from \"../../../shared/utils/findBranchFromTrunk\";\nimport { ComponentTrunk } from \"../types\";\n\nexport const toggleFooterComponent = (\n  id: string,\n  data: ComponentTrunk\n): Optional<ComponentTrunk> => {\n  const cloned = clone(data);\n  const branch = findBranchFromTrunk(id, cloned);\n  if (branch) {\n    branch.isOpen = !branch.isOpen;\n    return cloned;\n  } else {\n    return undefined;\n  }\n};\n","import { atom, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport { toggleFooterComponent } from \"../functions/toggleFooterComponent\";\nimport { ComponentTrunk } from \"../types\";\n\nconst componentTree = atom<ComponentTrunk>({ key: \"componentTree\", default: [] });\n\nexport const useComponentTreeState = () => {\n  return useRecoilValue(componentTree);\n};\n\nexport const useComponentTreeMutators = () => {\n  const setComponentTree = useSetRecoilState(componentTree);\n\n  const toggleComponent = (id: string) => {\n    setComponentTree((prev) => {\n      const result = toggleFooterComponent(id, prev);\n      if (result) {\n        return result;\n      } else {\n        return [];\n      }\n    });\n  };\n  return { toggleComponent, setComponentTree };\n};\n","import { css } from \"@emotion/react\";\nimport React, { FC } from \"react\";\nimport { IconBlank, IconCompact, IconExpand } from \"../../../shared/components/icons\";\nimport { COLOR_WHITE, SIZE1, SIZE3, SIZE4 } from \"../../../shared/styles/variables\";\nimport { WIDTH_ALIGNMENT_CELL } from \"../consts\";\nimport { useComponentTreeMutators } from \"../states/componentTree\";\n\ntype Props = {\n  label: string;\n  level: number;\n  hasChildren: boolean;\n  isOpen: boolean;\n  id: string;\n};\n\nexport const FooterCell: FC<Props> = ({ label, level, hasChildren, isOpen, id }) => {\n  const { toggleComponent } = useComponentTreeMutators();\n  const onClickFooterItem = (id: string) => toggleComponent(id);\n\n  const Icon = hasChildren ? (\n    isOpen ? (\n      <IconCompact css={icon} onClick={() => onClickFooterItem(id)} />\n    ) : (\n      <IconExpand css={icon} onClick={() => onClickFooterItem(id)} />\n    )\n  ) : (\n    <IconBlank css={icon} />\n  );\n\n  return (\n    <div css={wrapper}>\n      {new Array(level).fill(null).map((r, index) => (\n        <span key={index} className=\"spacer\" />\n      ))}\n      {Icon}\n      <span className={\"text\"}>{label}</span>\n    </div>\n  );\n};\n\nconst wrapper = css`\n  box-sizing: border-box;\n  width: ${WIDTH_ALIGNMENT_CELL}px;\n  background-color: ${COLOR_WHITE};\n  white-space: nowrap;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: ${SIZE1};\n  padding-bottom: ${SIZE4};\n  & > .text {\n    writing-mode: vertical-rl;\n    transform: translateX(-1px);\n  }\n  & > .spacer {\n    display: block;\n    height: ${SIZE3};\n    flex-grow: 0;\n    flex-shrink: 0;\n  }\n`;\n\nconst iconBlank = css`\n  margin-bottom: ${SIZE1};\n`;\nconst icon = css`\n  ${iconBlank};\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n`;\n","import { atom, useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\n\nconst isMediaExpanded = atom<boolean>({ key: \"isMediaExpanded\", default: false });\n\nexport const useIsMediaExpendedState = () => {\n  return useRecoilValue(isMediaExpanded);\n};\n\nexport const useIsMediaExpandedMutators = () => {\n  const setIsMediaExpanded = useSetRecoilState(isMediaExpanded);\n  return { setIsMediaExpanded };\n};\n","import { atom, useRecoilValue, useSetRecoilState } from \"recoil\";\n\nconst isOrganismsExpanded = atom<boolean>({ key: \"isOrganismsExpanded\", default: false });\n\nexport const useIsOrganismsExpendedState = () => {\n  return useRecoilValue(isOrganismsExpanded);\n};\n\nexport const useIsOrganismsExpandedMutators = () => {\n  const setIsOrganismsExpanded = useSetRecoilState(isOrganismsExpanded);\n  return { setIsOrganismsExpanded };\n};\n","import { css } from \"@emotion/react\";\nimport React, { ComponentProps, FC } from \"react\";\nimport { FooterCell } from \"./FooterCell\";\nimport { COLOR_WHITE } from \"../../../shared/styles/variables\";\nimport { WIDTH_COMPACT, WIDTH_EXPANDED } from \"../consts\";\nimport { useIsMediaExpendedState } from \"../states/isMediaExpanded\";\nimport { useIsOrganismsExpendedState } from \"../states/isOrganismsExpanded\";\n\ntype Props = {\n  components: ComponentProps<typeof FooterCell>[];\n};\n\nexport const FooterRow: FC<Props> = ({ components }) => {\n  const isMediaExpanded = useIsMediaExpendedState();\n  const isOrganismsExpanded = useIsOrganismsExpendedState();\n  return (\n    <div css={wrapper}>\n      <div css={infoSpacer} className={isMediaExpanded ? \"expand\" : \"compact\"} />\n      <div css={infoSpacer} className={isOrganismsExpanded ? \"expand\" : \"compact\"} />\n      {components.map((component) => (\n        <FooterCell {...component} key={component.id} />\n      ))}\n      <div css={componentSpacer} />\n    </div>\n  );\n};\n\nconst wrapper = css`\n  display: flex;\n  gap: 1px;\n  width: 100%;\n  & > * {\n    flex-grow: 0;\n    flex-shrink: 0;\n  }\n`;\n\nconst infoSpacer = css`\n  background-color: ${COLOR_WHITE};\n  &.expand {\n    width: ${WIDTH_EXPANDED};\n  }\n  &.compact {\n    width: ${WIDTH_COMPACT};\n  }\n`;\n\nconst componentSpacer = css`\n  background-color: ${COLOR_WHITE};\n  flex-grow: 1 !important;\n`;\n","import { css } from \"@emotion/react\";\nimport React, { FC } from \"react\";\nimport { IconCompact, IconExpand } from \"../../../shared/components/icons\";\nimport { COLOR_GRAY700, COLOR_WHITE, SIZE1 } from \"../../../shared/styles/variables\";\nimport { WIDTH_COMPACT, WIDTH_EXPANDED } from \"../consts\";\n\ntype Props = {\n  label: string;\n  onClickIcon: () => void;\n  isExpanded: boolean;\n};\n\nexport const HeaderCell: FC<Props> = ({ label, onClickIcon, isExpanded }) => {\n  return (\n    <div css={wrapper} className={isExpanded ? \"expanded\" : \"compact\"}>\n      <span>{label}</span>\n      {isExpanded ? (\n        <IconCompact css={icon} onClick={onClickIcon} />\n      ) : (\n        <IconExpand css={icon} onClick={onClickIcon} />\n      )}\n    </div>\n  );\n};\n\nconst wrapper = css`\n  display: flex;\n  background-color: ${COLOR_WHITE};\n  align-items: center;\n  justify-content: space-between;\n  padding: ${SIZE1};\n  box-sizing: border-box;\n\n  &.expanded {\n    width: ${WIDTH_EXPANDED};\n  }\n\n  &.compact {\n    width: ${WIDTH_COMPACT};\n  }\n`;\n\nconst icon = css`\n  font-size: 24px;\n  color: ${COLOR_GRAY700};\n  cursor: pointer;\n`;\n","import { css } from \"@emotion/react\";\nimport React, { FC } from \"react\";\nimport { HeaderCell } from \"./HeaderCell\";\nimport { COLOR_WHITE, SIZE1 } from \"../../../shared/styles/variables\";\nimport { AcceptsEmotion } from \"../../../shared/utils/types\";\nimport { useIsMediaExpandedMutators, useIsMediaExpendedState } from \"../states/isMediaExpanded\";\nimport {\n  useIsOrganismsExpandedMutators,\n  useIsOrganismsExpendedState,\n} from \"../states/isOrganismsExpanded\";\n\ntype Props = {} & AcceptsEmotion;\n\nexport const HeaderRow: FC<Props> = ({ css, className }) => {\n  const isMediaExpanded = useIsMediaExpendedState();\n  const isOrganismsExpanded = useIsOrganismsExpendedState();\n  const { setIsMediaExpanded } = useIsMediaExpandedMutators();\n  const { setIsOrganismsExpanded } = useIsOrganismsExpandedMutators();\n\n  const onClickMediaExpandIcon = () => {\n    setIsMediaExpanded(!isMediaExpanded);\n  };\n  const onClickOrganismExpandIcon = () => {\n    setIsOrganismsExpanded(!isOrganismsExpanded);\n  };\n\n  return (\n    <div css={[wrapper, css]} className={className}>\n      <HeaderCell\n        label={\"Media\"}\n        isExpanded={isMediaExpanded}\n        onClickIcon={onClickMediaExpandIcon}\n      />\n      <HeaderCell\n        label={\"Organisms\"}\n        isExpanded={isOrganismsExpanded}\n        onClickIcon={onClickOrganismExpandIcon}\n      />\n      <div css={components}>Components</div>\n    </div>\n  );\n};\n\nconst wrapper = css`\n  display: flex;\n  gap: 1px;\n  width: 100%;\n  & > * {\n    flex-grow: 0;\n    flex-shrink: 0;\n  }\n`;\n\nconst components = css`\n  background-color: ${COLOR_WHITE};\n  display: flex;\n  align-items: center;\n  padding: ${SIZE1};\n  flex-grow: 1 !important;\n`;\n","import { css } from \"@emotion/react\";\nimport { Tooltip } from \"@mui/material\";\nimport React, { FC } from \"react\";\nimport { PATH_COMPONENT } from \"../../../shared/components/consts\";\nimport { COLOR_GRAY, COLOR_PRIMARY, COLOR_WHITE, SIZE1 } from \"../../../shared/styles/variables\";\n\nexport type AlignmentCellState = \"grouped\" | \"available\" | \"none\";\n\ntype Props = {\n  state: AlignmentCellState;\n  label: string;\n  id: string;\n};\n\nexport const AlignmentCell: FC<Props> = ({ state, label, id }) => {\n  return (\n    <div css={wrapper}>\n      <Tooltip title={label} placement={\"top\"} PopperProps={{ disablePortal: true }} arrow>\n        <a\n          href={`${PATH_COMPONENT}${id}`}\n          target=\"_blank\"\n          className={`icon-${state} icon`}\n          rel=\"noreferrer\"\n        >\n          <span />\n        </a>\n      </Tooltip>\n    </div>\n  );\n};\n\nconst wrapper = css`\n  box-sizing: border-box;\n  background-color: ${COLOR_WHITE};\n  padding: ${SIZE1};\n  display: flex;\n  width: fit-content;\n  align-items: center;\n  flex-grow: 0;\n  .icon {\n    display: flex;\n    width: 24px;\n    height: 24px;\n    justify-content: center;\n    align-items: center;\n  }\n  .icon-available > span {\n    display: block;\n    width: 100%;\n    height: 100%;\n    background-color: ${COLOR_PRIMARY};\n  }\n  .icon-grouped > span {\n    display: block;\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    border: 2px solid ${COLOR_PRIMARY};\n  }\n\n  .icon-none > span {\n    display: none;\n    box-sizing: border-box;\n    width: 100%;\n    height: 4px;\n    background-color: ${COLOR_GRAY};\n    border-radius: 4px;\n  }\n`;\n","import { css } from \"@emotion/react\";\nimport { Tooltip } from \"@mui/material\";\nimport React, { FC, useEffect, useState } from \"react\";\nimport { COLOR_PRIMARY, COLOR_WHITE, FONT_EN, SIZE1 } from \"../../../shared/styles/variables\";\nimport { LabelInfo } from \"../../../shared/utils/labelInfo\";\nimport { WIDTH_COMPACT, WIDTH_EXPANDED } from \"../consts\";\n\ntype Props = {\n  info: LabelInfo[];\n  linkBase: string;\n  expanded: boolean;\n  priority?: string[];\n};\n\nexport const InfoCell: FC<Props> = ({ info, linkBase, expanded, priority = [] }) => {\n  return expanded ? (\n    <Expanded {...{ info: sortInfo(info, priority), linkBase, priority }} />\n  ) : (\n    <Compact {...{ info: sortInfo(info, priority), linkBase, priority }} />\n  );\n};\n\nconst sortInfo = (info: LabelInfo[], priority: string[]): LabelInfo[] => {\n  return [\n    ...priority.map((id) => info.find((item) => item.id === id)!).filter((item) => !!item),\n    ...info.filter((item) => !priority.includes(item.id)),\n  ];\n};\n\nconst Compact: FC<Omit<Props, \"expanded\">> = ({ info, linkBase, priority = [] }) => {\n  const [items, setItems] = useState<LabelInfo[]>([]);\n  const [restText, setRestText] = useState(\"\");\n  useEffect(() => {\n    const myPriorityItems: string[] = info\n      .map((item) => item.id)\n      .filter((str) => priority.includes(str));\n    setItems(\n      myPriorityItems.length ? info.filter((item) => priority.includes(item.id)) : [info[0]]\n    );\n    const remain = myPriorityItems.length ? info.length - myPriorityItems.length : info.length - 1;\n    switch (remain) {\n      case 0:\n        break;\n      case 1:\n        setRestText(` + ${remain} organism`);\n        break;\n      default:\n        setRestText(` + ${remain} organisms`);\n    }\n  }, [info]);\n  return (\n    <div css={wrapper} className=\"compact\">\n      <div className=\"inner\">\n        <div className=\"text\">\n          {items.map((item, index) => (\n            <span key={index}>\n              <Tooltip\n                title={item.label}\n                placement={\"top\"}\n                PopperProps={{ disablePortal: true }}\n                arrow\n              >\n                <a href={`${linkBase}${item.id}`} target=\"_blank\" rel=\"noreferrer\">\n                  {item.id}\n                </a>\n              </Tooltip>\n              {index < items.length - 1 ? \", \" : \"\"}\n            </span>\n          ))}\n          <span style={{ whiteSpace: \"nowrap\" }}>{restText}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Expanded: FC<Omit<Props, \"expanded\">> = ({ info, linkBase, priority = [] }) => {\n  return (\n    <div css={wrapper} className=\"expanded\">\n      <div className=\"inner\">\n        {[\n          ...info.filter((item) => priority.includes(item.id)),\n          ...info.filter((item) => !priority.includes(item.id)),\n        ].map((item) => (\n          <div key={item.id} className=\"text\">\n            <a href={`${linkBase}${item.id}`} target=\"_blank\" rel=\"noreferrer\">\n              {item.id}\n            </a>\n            <span>{item.label}</span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst wrapper = css`\n  font-family: ${FONT_EN};\n  font-size: 14px;\n  background-color: ${COLOR_WHITE};\n  box-sizing: border-box;\n  padding: ${SIZE1};\n  display: block;\n  min-height: 40px;\n  .inner {\n    padding-top: 4px;\n  }\n  a {\n    color: ${COLOR_PRIMARY};\n    text-decoration: none;\n  }\n  &.compact {\n    width: ${WIDTH_COMPACT};\n    //overflow: hidden;\n    //text-overflow: ellipsis;\n    .inner {\n      display: flex;\n      flex-wrap: wrap;\n    }\n    .text {\n      margin-right: ${SIZE1};\n    }\n  }\n  &.expanded {\n    width: ${WIDTH_EXPANDED};\n    .text {\n      display: flex;\n      flex-direction: column;\n      + .text {\n        margin-top: ${SIZE1};\n      }\n    }\n  }\n`;\n","import { css } from \"@emotion/react\";\nimport React, { ComponentProps, FC } from \"react\";\nimport { AlignmentCell } from \"./AlignmentCell\";\nimport { InfoCell } from \"./InfoCell\";\nimport { PATH_MEDIUM, PATH_ORGANISM } from \"../../../shared/components/consts\";\nimport { COLOR_WHITE } from \"../../../shared/styles/variables\";\nimport { LabelInfo } from \"../../../shared/utils/labelInfo\";\nimport { useIsMediaExpendedState } from \"../states/isMediaExpanded\";\nimport { useIsOrganismsExpendedState } from \"../states/isOrganismsExpanded\";\n\ntype Props = {\n  medium: LabelInfo;\n  organisms: LabelInfo[];\n  components: ComponentProps<typeof AlignmentCell>[];\n  prioritizedOrganism?: string[];\n};\n\nexport const MediaRow: FC<Props> = ({\n  medium,\n  organisms,\n  components,\n  prioritizedOrganism = [],\n}) => {\n  const isMediaExpanded = useIsMediaExpendedState();\n  const isOrganismsExpanded = useIsOrganismsExpendedState();\n  return (\n    <div css={wrapper}>\n      <InfoCell info={[medium]} expanded={isMediaExpanded} linkBase={PATH_MEDIUM} />\n      <InfoCell\n        info={organisms}\n        expanded={isOrganismsExpanded}\n        linkBase={PATH_ORGANISM}\n        priority={prioritizedOrganism}\n      />\n      {components.map((component) => (\n        <AlignmentCell {...component} key={component.id} />\n      ))}\n      <div css={spacer} />\n    </div>\n  );\n};\n\nconst wrapper = css`\n  display: flex;\n  gap: 1px;\n  width: 100%;\n  & > * {\n    flex-grow: 0;\n    flex-shrink: 0;\n  }\n`;\n\nconst spacer = css`\n  background-color: ${COLOR_WHITE};\n  flex-grow: 1 !important;\n`;\n","import { ComponentProps } from \"react\";\nimport { MediaAlignmentTableResponse } from \"../../../api/media-alignment-table/types\";\nimport { LabelInfo } from \"../../../shared/utils/labelInfo\";\nimport { AlignmentCellState } from \"../components/AlignmentCell\";\nimport { FooterCell } from \"../components/FooterCell\";\nimport { MediaRow } from \"../components/MediaRow\";\nimport { RawComponent, RawMedium, RawOrganism } from \"../types\";\n\ntype ComponentInfo = ComponentProps<typeof FooterCell>;\ntype CellProps = ComponentProps<typeof MediaRow>[\"components\"][0];\n\nexport const makeAlignmentData = (\n  data: MediaAlignmentTableResponse,\n  footerComponents: ComponentInfo[]\n): ComponentProps<typeof MediaRow>[] => {\n  return data.media.map((medium) =>\n    makeMediaRowProp(medium, data.organisms, data.components, footerComponents)\n  );\n};\n\nconst makeMediaRowProp = (\n  mediumData: RawMedium,\n  organismsData: RawOrganism[],\n  componentsData: RawComponent[],\n  footerList: ComponentInfo[]\n): ComponentProps<typeof MediaRow> => {\n  const medium: LabelInfo = {\n    id: mediumData.gm_id,\n    label: mediumData.name,\n  };\n  const organisms: LabelInfo[] = mediumData.organisms.map(\n    (taxid) =>\n      organismsData\n        .filter((organism) => organism.tax_id === taxid)\n        .map((organism) => ({ id: organism.tax_id, label: organism.name }))[0]\n  );\n  const components: CellProps[] = footerList.map((data) => {\n    return {\n      id: data.id,\n      label: data.label,\n      state: findComponentState(data.id, mediumData.components, componentsData, footerList),\n    };\n  });\n  return {\n    medium,\n    organisms,\n    components,\n  };\n};\n\nconst findComponentState = (\n  id: string,\n  mediumComponents: string[],\n  allComponents: RawComponent[],\n  footerList: ComponentInfo[]\n): AlignmentCellState => {\n  if (mediumComponents.find((candidate) => candidate === id)) {\n    return \"available\";\n  }\n\n  const groupedId = listChildComponents(id, allComponents).find((child) =>\n    mediumComponents.find((candidate) => candidate === child)\n  );\n  if (groupedId) {\n    const isOpen = footerList.find((item) => item.id === id)?.isOpen === true;\n    return isOpen ? \"grouped\" : \"available\";\n  }\n  return \"none\";\n};\n\nconst listChildComponents = (id: string, components: RawComponent[]): string[] => {\n  const result: string[] = [];\n  const addItem = (parentId: string) => {\n    const children = components.filter((c) => c.parent === parentId).map((c) => c.gmo_id);\n    result.push(...children);\n    children.forEach((c) => addItem(c));\n  };\n  addItem(id);\n  return result;\n};\n\nexport const __TEST__ = { listChildComponents };\n","import { ROOT_COMPONENT } from \"../consts\";\nimport { ComponentBranch, ComponentTrunk, RawComponent } from \"../types\";\n\nexport const makeComponentTree = (components: RawComponent[]): ComponentTrunk => {\n  const items: ComponentTrunk = components.map((item) => ({\n    name: item.name,\n    id: item.gmo_id,\n    level: 0,\n    parent: item.parent,\n    children: [],\n    isOpen: false,\n    func: item.function,\n  }));\n\n  const result = items.filter((item) => !item.parent || item.parent === ROOT_COMPONENT);\n  items.forEach(\n    (item) => (item.children = items.filter((filtering) => filtering.parent === item.id))\n  );\n  items.forEach((item) => (item.level = getItemLevel(item, items)));\n  return result;\n};\n\nconst getItemLevel = (item: ComponentBranch, items: ComponentBranch[]): number => {\n  let parent: ComponentBranch | undefined = item;\n  let level: number = -1;\n  do {\n    level++;\n    parent = items.find((found) => found.id === parent!.parent);\n  } while (parent);\n\n  return level;\n};\n","import { ComponentProps } from \"react\";\nimport { FooterCell } from \"../components/FooterCell\";\nimport { ComponentBranch, ComponentTrunk } from \"../types\";\n\ntype Props = ComponentProps<typeof FooterCell>;\n\nexport const makeFooterComponents = (data: ComponentTrunk): Props[] => {\n  const result: Props[] = [];\n  data.forEach((item) => {\n    addToCollection(item, result);\n  });\n  return result;\n};\n\nconst addToCollection = (data: ComponentBranch, collection: Props[]) => {\n  collection.push({\n    label: data.name,\n    level: data.level,\n    hasChildren: data.children.length > 0,\n    isOpen: data.isOpen,\n    id: data.id,\n  });\n  if (data.isOpen) {\n    (data.children as ComponentBranch[]).forEach((item) => {\n      addToCollection(item, collection);\n    });\n  }\n};\n","import { css } from \"@emotion/react\";\nimport React, { ComponentProps, FC, useEffect, useState } from \"react\";\nimport { FooterRow } from \"./FooterRow\";\nimport { HeaderRow } from \"./HeaderRow\";\nimport { MediaRow } from \"./MediaRow\";\nimport { MediaAlignmentTableResponse } from \"../../../api/media-alignment-table/types\";\nimport { COLOR_GRAY_LINE } from \"../../../shared/styles/variables\";\nimport { makeAlignmentData } from \"../functions/makeAlignmentData\";\nimport { makeComponentTree } from \"../functions/makeComponentBranch\";\nimport { makeFooterComponents } from \"../functions/makeFooterComponents\";\nimport { useComponentTreeMutators, useComponentTreeState } from \"../states/componentTree\";\n\ntype Props = { data: MediaAlignmentTableResponse; prioritizedOrganism: string[] };\ntype RowProps = ComponentProps<typeof MediaRow>[];\ntype FooterProps = ComponentProps<typeof FooterRow>;\n\nexport const AlignmentTable: FC<Props> = ({ data, prioritizedOrganism }) => {\n  const [rowProps, setRowProps] = useState<RowProps>([]);\n  const componentTree = useComponentTreeState();\n  const { setComponentTree } = useComponentTreeMutators();\n  const [footerProps, setFooterProps] = useState<FooterProps>({ components: [] });\n  useEffect(() => {\n    setComponentTree(makeComponentTree(data.components));\n  }, [data]);\n  useEffect(() => {\n    const components = makeFooterComponents(componentTree);\n    setFooterProps({ components });\n    setRowProps(makeAlignmentData(data, components));\n  }, [componentTree]);\n  return (\n    <div css={wrapper}>\n      <HeaderRow />\n      {rowProps.map((props) => (\n        <MediaRow {...props} key={props.medium.id} prioritizedOrganism={prioritizedOrganism} />\n      ))}\n      <FooterRow {...footerProps} />\n    </div>\n  );\n};\n\nconst wrapper = css`\n  display: flex;\n  gap: 1px;\n  flex-direction: column;\n  background-color: ${COLOR_GRAY_LINE};\n  padding: 1px;\n`;\n","import { css } from \"@emotion/react\";\nimport React, { FC } from \"react\";\nimport { HeaderCell } from \"./HeaderCell\";\nimport { MediaRow } from \"./MediaRow\";\nimport { MediaAlignmentTableResponse } from \"../../../api/media-alignment-table/types\";\nimport { COLOR_GRAY_LINE, COLOR_WHITE } from \"../../../shared/styles/variables\";\nimport { AcceptsEmotion } from \"../../../shared/utils/types\";\nimport { WIDTH_COMPACT, WIDTH_EXPANDED } from \"../consts\";\nimport { useIsMediaExpandedMutators, useIsMediaExpendedState } from \"../states/isMediaExpanded\";\nimport {\n  useIsOrganismsExpandedMutators,\n  useIsOrganismsExpendedState,\n} from \"../states/isOrganismsExpanded\";\n\ntype Props = { data: MediaAlignmentTableResponse; prioritizedOrganism: string[] } & AcceptsEmotion;\n\nexport const InfoColumns: FC<Props> = ({ data, css, className, prioritizedOrganism = [] }) => {\n  const isMediaExpanded = useIsMediaExpendedState();\n  const isOrganismsExpanded = useIsOrganismsExpendedState();\n  const { setIsMediaExpanded } = useIsMediaExpandedMutators();\n  const { setIsOrganismsExpanded } = useIsOrganismsExpandedMutators();\n\n  const onClickMediaExpandIcon = () => {\n    setIsMediaExpanded(!isMediaExpanded);\n  };\n  const onClickOrganismExpandIcon = () => {\n    setIsOrganismsExpanded(!isOrganismsExpanded);\n  };\n  return (\n    <div css={[wrapper, css]} className={className}>\n      <div css={header}>\n        <HeaderCell\n          label={\"Media\"}\n          isExpanded={isMediaExpanded}\n          onClickIcon={onClickMediaExpandIcon}\n        />\n        <HeaderCell\n          label={\"Organisms\"}\n          isExpanded={isOrganismsExpanded}\n          onClickIcon={onClickOrganismExpandIcon}\n        />\n      </div>\n      {data.media.map((m) => {\n        const organisms = m.organisms.map((taxid) => {\n          const organism = data.organisms.find((o) => o.tax_id === taxid);\n          const id: string = organism ? organism.tax_id : \"\";\n          const label: string = organism ? organism.name : \"\";\n          return { id, label };\n        });\n        return (\n          <MediaRow\n            key={m.gm_id}\n            medium={{ id: m.gm_id, label: m.name }}\n            organisms={organisms}\n            components={[]}\n            prioritizedOrganism={prioritizedOrganism}\n          />\n        );\n      })}\n      <div css={spacerRow}>\n        <span css={spacer} className={isMediaExpanded ? \"expanded\" : \"compact\"} />\n        <span css={spacer} className={isOrganismsExpanded ? \"expanded\" : \"compact\"} />\n      </div>\n    </div>\n  );\n};\n\nconst wrapper = css`\n  display: flex;\n  gap: 1px;\n  flex-direction: column;\n  background-color: ${COLOR_GRAY_LINE};\n  width: fit-content;\n  height: 100%;\n  padding: 1px 0 1px 1px;\n  box-sizing: border-box;\n`;\nconst header = css`\n  width: fit-content;\n  display: flex;\n  gap: 1px;\n`;\nconst spacerRow = css`\n  flex-grow: 1;\n  gap: 1px;\n  display: flex;\n`;\n\nconst spacer = css`\n  background-color: ${COLOR_WHITE};\n  //flex-grow: 1;\n  &.expanded {\n    width: ${WIDTH_EXPANDED};\n  }\n  &.compact {\n    width: ${WIDTH_COMPACT};\n  }\n`;\n","import { css } from \"@emotion/react\";\nimport React, { FC } from \"react\";\nimport { AlignmentTable } from \"./AlignmentTable\";\nimport { HeaderRow } from \"./HeaderRow\";\nimport { InfoColumns } from \"./InfoColumns\";\nimport { MediaAlignmentTableResponse } from \"../../../api/media-alignment-table/types\";\nimport { COLOR_GRAY_LINE } from \"../../../shared/styles/variables\";\n\ntype Props = { data: MediaAlignmentTableResponse; prioritizedOrganism?: string[] };\n\nexport const ScrollableTable: FC<Props> = ({ data, prioritizedOrganism = [] }) => {\n  return (\n    <div css={wrapper}>\n      <HeaderRow css={header} />\n      <InfoColumns data={data} prioritizedOrganism={prioritizedOrganism} css={infoColumns} />\n      <div className=\"inner\">\n        <AlignmentTable data={data} prioritizedOrganism={prioritizedOrganism} />\n      </div>\n    </div>\n  );\n};\n\nconst wrapper = css`\n  position: relative;\n  overflow: hidden;\n  background-color: ${COLOR_GRAY_LINE};\n  & > .inner {\n    overflow-x: auto;\n  }\n`;\nconst header = css`\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 1px solid ${COLOR_GRAY_LINE};\n  background-color: ${COLOR_GRAY_LINE};\n`;\nconst infoColumns = css`\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  left: 0;\n`;\n","import { css } from \"@emotion/react\";\nimport React, { useEffect, useState } from \"react\";\nimport { ScrollableTable } from \"./components/ScrollableTable\";\nimport { MediaAlignmentTableResponse } from \"../../api/media-alignment-table/types\";\nimport { API_MEDIA_ALIGNMENT } from \"../../api/paths\";\nimport { COLOR_WHITE, SIZE1 } from \"../../shared/styles/variables\";\nimport { getData } from \"../../shared/utils/getData\";\n\nexport type AppProps = {\n  gm_ids: string[];\n  prioritizedOrganism?: string[];\n  stanzaElement?: Document;\n};\n\nconst App = ({ gm_ids, stanzaElement, prioritizedOrganism = [] }: AppProps) => {\n  const [data, setData] = useState<MediaAlignmentTableResponse>();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const dispatchLoadData = (detail: any) => {\n    if (!stanzaElement) return;\n    stanzaElement.dispatchEvent(\n      new CustomEvent(\"STANZA_ON_LOAD_DATA\", { bubbles: true, composed: true, detail })\n    );\n  };\n  const dispatchOnQueryData = (detail: string[]) => {\n    if (!stanzaElement) return;\n    stanzaElement.dispatchEvent(\n      new CustomEvent(\"STANZA_ON_QUERY_DATA\", { bubbles: true, composed: true, detail })\n    );\n  };\n  useEffect(() => {\n    setData(undefined);\n    setIsLoading(true);\n    (async () => {\n      dispatchOnQueryData(gm_ids);\n      const response = await getData<MediaAlignmentTableResponse>(API_MEDIA_ALIGNMENT, { gm_ids });\n      setIsLoading(false);\n      setData(response.body);\n      dispatchLoadData(response.body);\n    })();\n  }, [gm_ids]);\n  return (\n    <div css={wrapper}>\n      {data && <ScrollableTable data={data} prioritizedOrganism={prioritizedOrganism} />}\n    </div>\n  );\n};\n\nconst wrapper = css`\n  min-height: 100px;\n  background-color: ${COLOR_WHITE};\n  border-radius: 5px;\n  padding: ${SIZE1};\n`;\n\nexport default App;\n","import React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport Stanza from \"togostanza/stanza\";\nimport App from \"./App\";\nimport { EmotionCacheProvider } from \"../../shared/components/EmotionCacheProvider\";\nimport { importWebFontForTogoMedium } from \"../../shared/utils/stanza\";\nimport { stringToArray } from \"../../shared/utils/string\";\n\nexport default class HelloReact extends Stanza<StanzaParameters> {\n  async render() {\n    this._render();\n    importWebFontForTogoMedium(this);\n  }\n\n  handleAttributeChange() {\n    this._render();\n  }\n\n  _render() {\n    const main = this.root.querySelector(\"main\");\n    const gm_ids = stringToArray(this.params.gm_ids);\n    const prioritizedOrganism = this.params.prioritized_tax_ids\n      ? stringToArray(this.params.prioritized_tax_ids)\n      : [];\n    ReactDOM.render(\n      <StrictMode>\n        <RecoilRoot>\n          <EmotionCacheProvider>\n            <App {...{ gm_ids, stanzaElement: this.root, prioritizedOrganism }} />\n          </EmotionCacheProvider>\n        </RecoilRoot>\n      </StrictMode>,\n      main\n    );\n  }\n}\n\ntype StanzaParameters = {\n  gm_ids: string;\n  prioritized_tax_ids?: string;\n};\n"],"names":["atom","useRecoilValue","useSetRecoilState","_jsx","icon","_jsxs","wrapper","_createElement","useState","useEffect","spacer","header","StrictMode","RecoilRoot"],"mappings":"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"}
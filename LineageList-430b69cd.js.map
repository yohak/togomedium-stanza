{"version":3,"file":"LineageList-430b69cd.js","sources":["../../../home/runner/work/togomedium-stanza/togomedium-stanza/shared/components/info-detail/LineageList.tsx"],"sourcesContent":["import styled from \"@emotion/styled\";\nimport React, { ComponentProps, FC } from \"react\";\nimport {\n  LineageRank,\n  lineageRanks,\n} from \"../../../stanzas/gmdb-media-strains-alignment-table/functions/types\";\nimport { COLOR_GRAY_LINE, COLOR_PRIMARY } from \"../../styles/variables\";\nimport { capitalizeFirstLetter, makeSpeciesName } from \"../../utils/string\";\n\nexport type ApiLineage = {\n  uri: string;\n  taxid: number;\n  label: string;\n  rank: string;\n}[];\n\nexport const LineageList: FC<{\n  lineage: Partial<\n    Record<\n      LineageRank,\n      {\n        taxid: string | number;\n        label: string;\n      }\n    >\n  >;\n}> = ({ lineage }) => {\n  return (\n    <LineageListWrapper>\n      {lineageRanks\n        .filter((rank) => !!lineage[rank])\n        .map((rank, index) => {\n          const item = lineage[rank]!;\n          return (\n            <LineageItem rank={rank} label={item.label} id={item.taxid.toString()} key={index} />\n          );\n        })}\n    </LineageListWrapper>\n  );\n};\n\nconst LineageListWrapper = styled.ul`\n  display: flex;\n  gap: 8px;\n\n  li {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: 1px solid ${COLOR_GRAY_LINE};\n    border-radius: 5px;\n\n    span {\n      width: 100%;\n      text-align: center;\n      border-bottom: 1px solid ${COLOR_GRAY_LINE};\n      padding: 4px 8px;\n      font-weight: 500;\n    }\n\n    a {\n      padding: 4px 8px;\n      color: ${COLOR_PRIMARY};\n    }\n  }\n`;\n\nconst LineageItem: FC<{ rank: LineageRank; label: string; id: string }> = ({ rank, label, id }) => (\n  <li>\n    <span>{capitalizeFirstLetter(rank)}</span>\n    <a href={`/taxon/${id}`}>{rank === \"species\" ? makeSpeciesName(label) : label}</a>\n  </li>\n);\n\nexport const parseLineage = (lineage: ApiLineage): ComponentProps<typeof LineageList>[\"lineage\"] =>\n  lineage.reduce((accum, current) => {\n    return current.label === \"NA\"\n      ? { ...accum }\n      : {\n          ...accum,\n          [current.rank]: {\n            taxid: current.taxid.toString(),\n            label: current.label,\n          },\n        };\n  }, {});\n"],"names":["_jsx","styled","_jsxs"],"mappings":";;;;MAgBa,WAAW,GAUnB,CAAC,EAAE,OAAO,EAAE,KAAI;AACnB,IAAA,QACEA,GAAA,CAAC,kBAAkB,EAAA,EAAA,QAAA,EAChB,YAAY;AACV,aAAA,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACjC,aAAA,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,KAAI;AACnB,YAAA,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAE,CAAC;YAC5B,QACEA,GAAC,CAAA,WAAW,EAAC,EAAA,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAO,EAAA,KAAK,CAAI,EACrF;SACH,CAAC,EACe,CAAA,EACrB;AACJ,EAAE;AAEF,MAAM,kBAAkB,GAAGC,SAAM,CAAC,EAAE,CAAA,CAAA;;;;;;;;wBAQZ,eAAe,CAAA;;;;;;iCAMN,eAAe,CAAA;;;;;;;eAOjC,aAAa,CAAA;;;CAG3B,CAAC;AAEF,MAAM,WAAW,GAAyD,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,MAC5FC,IACE,CAAA,IAAA,EAAA,EAAA,QAAA,EAAA,CAAAF,GAAA,CAAA,MAAA,EAAA,EAAA,QAAA,EAAO,qBAAqB,CAAC,IAAI,CAAC,EAAA,CAAQ,EAC1CA,GAAA,CAAA,GAAA,EAAA,MAAA,CAAA,MAAA,CAAA,EAAG,IAAI,EAAE,CAAA,OAAA,EAAU,EAAE,CAAE,CAAA,EAAA,EAAA,EAAA,QAAA,EAAG,IAAI,KAAK,SAAS,GAAG,eAAe,CAAC,KAAK,CAAC,GAAG,KAAK,EAAA,CAAA,CAAK,CAC/E,EAAA,CAAA,CACN,CAAC;AAEW,MAAA,YAAY,GAAG,CAAC,OAAmB,KAC9C,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,OAAO,KAAI;AAChC,IAAA,OAAO,OAAO,CAAC,KAAK,KAAK,IAAI;AAC3B,UAAO,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAK,CACZ,GACO,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAK,CACR,EAAA,EAAA,CAAC,OAAO,CAAC,IAAI,GAAG;AACd,YAAA,KAAK,EAAE,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE;YAC/B,KAAK,EAAE,OAAO,CAAC,KAAK;AACrB,SAAA,EAAA,CACF,CAAC;AACR,CAAC,EAAE,EAAE;;;;"}
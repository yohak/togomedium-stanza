{"version":3,"file":"gmdb-meta-list.js","sources":["../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-meta-list/index.ts"],"sourcesContent":["import Stanza from \"togostanza/stanza\";\nimport { makeFormBody } from \"../../utils/getData\";\nimport { importWebFontForTogoMedium } from \"../../utils/stanza\";\nimport { ApiResponse, SimpleObject, TemplateBase } from \"../../utils/types\";\n\nexport default class GmdbMetaList extends Stanza<StanzaParameters> {\n  async render() {\n    const params = this.params;\n    if (!params.api_url) {\n      return;\n    }\n    const offset: number = 0;\n    const data = await fetchData(params.api_url, offset, parseInt(params.limit, 10));\n    const templateParams: TemplateParameters = processData(data, offset, params);\n    render(this, templateParams, params);\n  }\n}\n\nconst render = (stanza: Stanza, parameters: TemplateParameters, stanzaParams: StanzaParameters) => {\n  const limit: number = parseInt(stanzaParams.limit, 10);\n  stanza.renderTemplate<TemplateParameters>({\n    template: \"stanza.html.hbs\",\n    parameters,\n  });\n  importWebFontForTogoMedium(stanza, stanzaParams.web_font);\n  stanza.root.querySelector(\"#btnPrev\")?.addEventListener(\"click\", async () => {\n    await movePage(stanza, parameters, stanzaParams, limit, DIRECTION.PREV);\n  });\n  stanza.root.querySelector(\"#btnNext\")?.addEventListener(\"click\", async () => {\n    await movePage(stanza, parameters, stanzaParams, limit, DIRECTION.NEXT);\n  });\n};\n\nconst movePage = async (\n  stanza: Stanza,\n  templateParams: TemplateParameters,\n  stanzaParams: StanzaParameters,\n  limit: number,\n  direction: DIRECTION\n) => {\n  render(stanza, { ...templateParams, isLoading: true }, stanzaParams);\n  const offset = templateParams.offset + limit * direction;\n  const data = await fetchData(stanzaParams.api_url, offset, limit);\n  const params: TemplateParameters = processData(data, offset, stanzaParams);\n  render(stanza, params, stanzaParams);\n};\n\nconst processData = (\n  response: ApiResponse<ApiBody>,\n  offset: number,\n  stanzaParams: StanzaParameters\n): TemplateParameters => {\n  switch (response.status) {\n    case 200:\n      return makeSuccessData(response, offset, stanzaParams);\n    default:\n      return makeFailParams(response, stanzaParams);\n  }\n};\n\nconst makeSuccessData = (\n  response: ApiResponse<ApiBody>,\n  offset: number,\n  stanzaParams: StanzaParameters\n): TemplateParameters => {\n  if (response.body!.contents.length === 0) {\n    return makeNotFoundParams(stanzaParams);\n  }\n\n  const column_sizes: number[] | undefined = stanzaParams.column_sizes\n    ?.split(\",\")\n    .map((str) => parseInt(str));\n  const columns: {\n    label: string;\n    size: number | undefined;\n  }[] = response.body!.columns.map((item, i) => ({\n    label: item.label,\n    size: column_sizes ? column_sizes[i] : undefined,\n  }));\n  const keys: string[] = response.body!.columns.map((item) => item.key);\n  const noWraps: { [key: string]: boolean | undefined } = {};\n  response.body!.columns.forEach((item) => (noWraps[item.key] = item.nowrap));\n  const data: Item[][] = response.body!.contents.map((item) => {\n    const result: Item[] = [];\n    keys.forEach((key) => {\n      let value: StringItem;\n      if (typeof item[key] === \"string\") {\n        value = { label: item[key] as string };\n      } else {\n        value = item[key] as LinkItem;\n      }\n      if (noWraps[key]) {\n        value.nowrap = true;\n      }\n      result.push(value);\n    });\n    return result;\n  });\n  const total: number = response.body!.total;\n  const _end: number = parseInt(stanzaParams.limit, 10) + offset;\n  const end: number = _end <= total ? _end : total;\n  const hasPrev: boolean = offset !== 0;\n  const hasNext: boolean = end < total;\n  const title: string = stanzaParams.title;\n  const info: string =\n    hasNext || hasPrev\n      ? `showing ${offset + 1} to ${end} of total ${total} items`\n      : `total ${total} items`;\n  const _columns: string = stanzaParams.column_names;\n  const showColumnNames: boolean =\n    _columns.toLocaleLowerCase() === \"false\" ? false : Boolean(stanzaParams.column_names);\n  const isFixedTable: boolean = !!columns.find((item) => !!item.size);\n\n  return {\n    title,\n    offset,\n    columns,\n    data,\n    hasNext,\n    hasPrev,\n    info,\n    showColumnNames,\n    isFixedTable,\n    status: 200,\n    statusText: \"\",\n  };\n};\n\nconst makeNotFoundParams = (stanzaParams: StanzaParameters): TemplateParameters => {\n  return {\n    title: stanzaParams.title,\n    offset: 0,\n    columns: undefined,\n    data: undefined,\n    hasNext: false,\n    hasPrev: false,\n    info: undefined,\n    showColumnNames: false,\n    isFixedTable: false,\n    status: undefined,\n    statusText: \"NO RESULT FOUND\",\n  };\n};\n\nconst makeFailParams = (\n  response: ApiResponse<ApiBody>,\n  stanzaParams: StanzaParameters\n): TemplateParameters => {\n  return {\n    title: stanzaParams.title,\n    offset: 0,\n    columns: undefined,\n    data: undefined,\n    hasNext: false,\n    hasPrev: false,\n    info: undefined,\n    showColumnNames: false,\n    isFixedTable: false,\n    status: response.status,\n    statusText: response.status ? response.message : \"UNKNOWN ERROR\",\n  };\n};\n\nconst fetchData = async (\n  url: string,\n  offset: number,\n  limit: number\n): Promise<ApiResponse<ApiBody>> => {\n  // return fetchDummy(query, offset, limit);\n  return fetchLive(url, offset, limit);\n};\n\nconst fetchLive = async (\n  url: string,\n  offset: number,\n  limit: number\n): Promise<ApiResponse<ApiBody>> => {\n  const [uri, query]: [string, string] = separateURL(url);\n  const response = await fetch(uri, makeOptions({ offset, limit }, query));\n  if (response.status !== 200) {\n    return {\n      status: response.status,\n      message: response.statusText,\n      body: undefined,\n    };\n  }\n  const body: any = await response.json();\n  return {\n    status: 200,\n    body,\n  };\n};\n\nconst makeOptions = (params: SimpleObject, query: string): RequestInit => {\n  const body = `${filterQuery(query)}&${makeFormBody(params)}`;\n\n  return {\n    method: \"POST\",\n    mode: \"cors\",\n    body,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  };\n};\n\nconst filterQuery = (query: string | null): string => {\n  if (!query) {\n    return \"\";\n  }\n  let isOmitted: boolean = false;\n  const result: string = query\n    .split(\"&\")\n    .filter((str) => {\n      const reg = /(.*)=(.*)/.exec(str);\n      const [key, value]: [string, string] = [reg![1], reg![2]];\n      switch (key) {\n        case \"limit\":\n        case \"offset\":\n          isOmitted = true;\n          return false;\n        default:\n          return true;\n      }\n    })\n    .join(\"&\");\n  if (isOmitted) {\n    console.warn(\"limit and offset on API_URL have been omitted as they are set from the Stanza\");\n  }\n  // console.log(result);\n  return result;\n};\n\nconst separateURL = (url: string): [string, string] => {\n  const separated = /(.*)\\?(.*)/.exec(url);\n  let uri, query;\n  if (separated) {\n    uri = separated[1];\n    query = separated[2];\n  } else {\n    uri = url;\n    query = \"\";\n  }\n  return [uri, query];\n};\n\nexport const __TEST__ = { separateURL, filterQuery, makeFormBody };\n\nenum DIRECTION {\n  NEXT = 1,\n  PREV = -1,\n}\n\ntype Item = StringItem | LinkItem;\n\ntype StanzaParameters = {\n  api_url: string;\n  limit: string;\n  title: string;\n  column_names: string;\n  web_font?: string;\n  column_sizes?: string;\n};\n\ntype TemplateParameters = {\n  columns: { label: string; size: number | undefined }[] | undefined;\n  data: Item[][] | undefined;\n  offset: number;\n  title: string;\n  hasNext: boolean;\n  hasPrev: boolean;\n  info: string | undefined;\n  showColumnNames: boolean;\n  isFixedTable: boolean;\n} & TemplateBase;\n\ntype ApiBody = {\n  total: number;\n  offset: number;\n  limit: number;\n  contents: Content[];\n  columns: Column[];\n};\n\ntype Content = {\n  [key: string]: LinkItem | string;\n};\n\ntype LinkItem = {\n  href: string;\n  label: string;\n  nowrap?: boolean;\n};\ntype StringItem = {\n  label: string;\n  nowrap?: boolean;\n};\n\ntype Column = {\n  key: string;\n  label: string;\n  nowrap?: boolean;\n  size?: number;\n};\n\nexport type ListApiBody = ApiBody;\nexport type ListContent = Content;\nexport type ListColumn = Column;\n"],"names":[],"mappings":"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"}
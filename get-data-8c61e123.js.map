{"version":3,"file":"get-data-8c61e123.js","sources":["../../../home/runner/work/togomedium-stanza/togomedium-stanza/utils/get-data.ts"],"sourcesContent":["import { ApiResponse, SimpleObject } from \"./types\";\n\nexport const getData = async <T>(url: string, params: SimpleObject): Promise<ApiResponse<T>> => {\n  const response = await fetch(url, makeOptions(params));\n\n  if (response.status !== 200) {\n    return {\n      status: response.status,\n      message: response.statusText,\n      body: undefined,\n    };\n  }\n  const body: T = await response.json();\n  return {\n    status: 200,\n    body,\n  };\n};\n\nexport const makeFormBody = (params: SimpleObject) => {\n  const formBody = Object.entries(params).map(\n    ([key, value]) => `${key}=${encodeURIComponent(value)}`\n  );\n  return formBody.join(\"&\");\n};\n\nconst makeOptions = (params: SimpleObject): RequestInit => {\n  const body = makeFormBody(params);\n  return {\n    method: \"POST\",\n    mode: \"cors\",\n    body,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  };\n};\n"],"names":[],"mappings":";;MAEa,OAAO,GAAG,CAAU,GAAW,EAAE,MAAoB;IAChE,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;IAEvD,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,EAAE;QAC3B,OAAO;YACL,MAAM,EAAE,QAAQ,CAAC,MAAM;YACvB,OAAO,EAAE,QAAQ,CAAC,UAAU;YAC5B,IAAI,EAAE,SAAS;SAChB,CAAC;KACH;IACD,MAAM,IAAI,GAAM,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;IACtC,OAAO;QACL,MAAM,EAAE,GAAG;QACX,IAAI;KACL,CAAC;AACJ,CAAC,EAAC;MAEW,YAAY,GAAG,CAAC,MAAoB;IAC/C,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,CACzC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,kBAAkB,CAAC,KAAK,CAAC,EAAE,CACxD,CAAC;IACF,OAAO,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC5B,EAAE;AAEF,MAAM,WAAW,GAAG,CAAC,MAAoB;IACvC,MAAM,IAAI,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;IAClC,OAAO;QACL,MAAM,EAAE,MAAM;QACd,IAAI,EAAE,MAAM;QACZ,IAAI;QACJ,OAAO,EAAE;YACP,MAAM,EAAE,kBAAkB;YAC1B,cAAc,EAAE,mCAAmC;SACpD;KACF,CAAC;AACJ,CAAC;;;;"}
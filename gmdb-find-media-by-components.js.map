{"version":3,"file":"gmdb-find-media-by-components.js","sources":["../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-find-media-by-components/components/ComponentSelect.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-find-media-by-components/states/selectedAttributes.ts","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-find-media-by-components/components/AttributesSection.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-find-media-by-components/components/AppContainer.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-find-media-by-components/App.tsx","../../../home/runner/work/togomedium-stanza/togomedium-stanza/stanzas/gmdb-find-media-by-components/index.tsx"],"sourcesContent":["import { Autocomplete, Chip, TextField } from \"@mui/material\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport React, { FC, SyntheticEvent, useState } from \"react\";\nimport { AllComponentsResponse } from \"../../../api/all-components/types\";\nimport { API_COMPONENTS_WITH_COMPONENTS } from \"../../../api/paths\";\nimport { getData } from \"../../../shared/utils/getData\";\nimport { LabelInfo } from \"../../../shared/utils/labelInfo\";\nimport { decodeHTMLEntities } from \"../../../shared/utils/string\";\n\ntype Props = {\n  onChangeSelection: (ids: string[]) => void;\n};\n\nexport const ComponentSelect: FC<Props> = ({ onChangeSelection }) => {\n  const [loading, setLoading] = useState(false);\n  const [components, setComponents] = useState<readonly LabelInfo[]>([]);\n  const loadComponents = async (ids: string[] = []) => {\n    const response = await getData<AllComponentsResponse>(API_COMPONENTS_WITH_COMPONENTS, {\n      gmo_ids: ids.join(\",\"),\n    });\n    if (response.body) {\n      setComponents(\n        response.body\n          .map<LabelInfo>((item) => ({\n            id: item.gmo_id,\n            label: item.name.includes(\";\") ? decodeHTMLEntities(item.name) : item.name,\n          }))\n          .filter((item) => !ids.includes(item.id))\n      );\n    }\n    setLoading(false);\n  };\n  const onOpen = () => {\n    if (components.length) return;\n    loadComponents();\n  };\n\n  const onChange = (e: SyntheticEvent, value: LabelInfo[]) => {\n    const ids = value.map((v) => v.id);\n    onChangeSelection(ids);\n    loadComponents(ids);\n  };\n  //\n  return (\n    <Autocomplete\n      multiple\n      filterSelectedOptions\n      onChange={onChange}\n      onOpen={onOpen}\n      disablePortal={true}\n      options={components}\n      loading={loading}\n      getOptionLabel={(option) => option.label}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label=\"Components\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <>\n                {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                {params.InputProps.endAdornment}\n              </>\n            ),\n          }}\n        />\n      )}\n      renderTags={(value, getTagProps) =>\n        value.map((option, index) => (\n          <Chip\n            variant=\"outlined\"\n            {...getTagProps({ index })}\n            label={option.label}\n            key={option.id}\n          />\n        ))\n      }\n    />\n  );\n};\n","import { atom, useRecoilValue, useSetRecoilState } from \"recoil\";\n\nexport type SelectedAttributes = {\n  gmo_ids: string[];\n};\nconst selectedAttributes = atom<SelectedAttributes>({\n  key: \"selectedAttributes\",\n  default: { gmo_ids: [] },\n});\n\nexport const useSelectedAttributesState = () => {\n  return useRecoilValue(selectedAttributes);\n};\n\nexport const useSelectedAttributesMutators = () => {\n  const setSelectedAttributes = useSetRecoilState(selectedAttributes);\n  return { setSelectedAttributes };\n};\n","import React, { FC, useEffect } from \"react\";\nimport { ComponentSelect } from \"./ComponentSelect\";\nimport {\n  MediaByAttributesParams,\n  MediaByAttributesResponse,\n} from \"../../../api/media_by_attributes/types\";\nimport { API_MEDIA_BY_ATTRIBUTES } from \"../../../api/paths\";\nimport { nullResponse, useFoundMediaMutators } from \"../../../shared/state/media-finder/foundMedia\";\nimport { useMediaLoadAbortMutators } from \"../../../shared/state/media-finder/mediaLoadAbort\";\nimport { useQueryDataMutators } from \"../../../shared/state/media-finder/queryData\";\nimport { getData } from \"../../../shared/utils/getData\";\nimport {\n  useSelectedAttributesMutators,\n  useSelectedAttributesState,\n} from \"../states/selectedAttributes\";\n\ntype Props = {};\n\nexport const AttributesSection: FC<Props> = () => {\n  const selectedAttributes = useSelectedAttributesState();\n  const { setFoundMedia } = useFoundMediaMutators();\n  const { setQueryData } = useQueryDataMutators();\n  const { setNextMediaLoadAbort } = useMediaLoadAbortMutators();\n  const { setSelectedAttributes } = useSelectedAttributesMutators();\n\n  const onChangeSelection = (ids: string[]) => {\n    setSelectedAttributes({ gmo_ids: ids });\n  };\n\n  useEffect(() => {\n    const gmo_ids = selectedAttributes.gmo_ids;\n    if (gmo_ids.length === 0) {\n      setQueryData({});\n      setFoundMedia(nullResponse);\n      setNextMediaLoadAbort(null);\n      return;\n    }\n    (async () => {\n      const params: MediaByAttributesParams = { gmo_ids, limit: 10, offset: 0 };\n      setQueryData({ gmo_ids });\n      const abort: AbortController = new AbortController();\n      setNextMediaLoadAbort(abort);\n      const response = await getData<MediaByAttributesResponse, MediaByAttributesParams>(\n        API_MEDIA_BY_ATTRIBUTES,\n        params,\n        abort\n      );\n      setNextMediaLoadAbort(null);\n      if (response.body) {\n        setFoundMedia(response.body);\n      }\n    })();\n  }, [selectedAttributes]);\n  return (\n    <div>\n      <ComponentSelect onChangeSelection={onChangeSelection} />\n    </div>\n  );\n};\n","import React, { FC } from \"react\";\nimport { AttributesSection } from \"./AttributesSection\";\nimport {\n  MediaByAttributesParams,\n  MediaByAttributesResponse,\n} from \"../../../api/media_by_attributes/types\";\nimport { API_MEDIA_BY_ATTRIBUTES } from \"../../../api/paths\";\nimport { subPane, queryPane, wrapper } from \"../../../shared/components/media-finder/appStyles\";\nimport { MediaPane } from \"../../../shared/components/media-finder/MediaPane\";\nimport {\n  FoundMedia,\n  useFoundMediaMutators,\n  useFoundMediaState,\n} from \"../../../shared/state/media-finder/foundMedia\";\nimport { useMediaLoadAbortMutators } from \"../../../shared/state/media-finder/mediaLoadAbort\";\nimport { getData } from \"../../../shared/utils/getData\";\nimport { useSelectedAttributesState } from \"../states/selectedAttributes\";\n\ntype Props = {\n  dispatchEvent: (gmIds: string[]) => void;\n};\n\nexport const AppContainer: FC<Props> = ({ dispatchEvent }) => {\n  const { next, prev } = useMediaPagination();\n  return (\n    <div css={wrapper}>\n      <div css={queryPane}>\n        <AttributesSection />\n      </div>\n      <div css={subPane}>\n        <MediaPane dispatchEvent={dispatchEvent} next={next} prev={prev} />\n      </div>\n    </div>\n  );\n};\n\nconst useMediaPagination = () => {\n  const selectedAttributes = useSelectedAttributesState();\n  const response = useFoundMediaState();\n  const { setNextMediaLoadAbort } = useMediaLoadAbortMutators();\n  const { setFoundMedia } = useFoundMediaMutators();\n  const next = () => {\n    paginate({\n      offset: response.offset + 10,\n      gmo_ids: selectedAttributes.gmo_ids,\n      abortLoader: setNextMediaLoadAbort,\n      setFoundMedia,\n    });\n  };\n  const prev = () => {\n    paginate({\n      offset: response.offset - 10,\n      gmo_ids: selectedAttributes.gmo_ids,\n      abortLoader: setNextMediaLoadAbort,\n      setFoundMedia,\n    });\n  };\n\n  return { next, prev };\n};\n\ntype PaginateParams = {\n  offset: number;\n  abortLoader: (abort: AbortController | null) => void;\n  gmo_ids: string[];\n  setFoundMedia: (media: FoundMedia) => void;\n};\nconst paginate = async ({ offset, abortLoader, gmo_ids, setFoundMedia }: PaginateParams) => {\n  const params: MediaByAttributesParams = { gmo_ids, offset, limit: 10 };\n  const abort: AbortController = new AbortController();\n  abortLoader(abort);\n  const response = await getData<MediaByAttributesResponse, MediaByAttributesParams>(\n    API_MEDIA_BY_ATTRIBUTES,\n    params,\n    abort\n  );\n  abortLoader(null);\n  if (response.body) {\n    setFoundMedia(response.body);\n  }\n};\n","import React, { FC } from \"react\";\nimport { AppContainer } from \"./components/AppContainer\";\n\ntype Props = {\n  stanzaElement?: Document;\n};\n\nconst App: FC<Props> = ({ stanzaElement }) => {\n  const dispatchEvent = (gmIds: string[]) => {\n    console.log(stanzaElement);\n    if (!stanzaElement) return;\n    //\n    stanzaElement.dispatchEvent(\n      new CustomEvent(\"STANZA_RUN_ACTION\", { bubbles: true, composed: true, detail: gmIds })\n    );\n    console.log(\"dispatch\", { detail: gmIds });\n  };\n\n  return <AppContainer dispatchEvent={dispatchEvent} />;\n};\n\nexport default App;\n","import { ThemeProvider } from \"@mui/material/styles\";\nimport React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport Stanza from \"togostanza/stanza\";\nimport App from \"./App\";\nimport { EmotionCacheProvider } from \"../../shared/components/EmotionCacheProvider\";\nimport { muiTheme } from \"../../shared/components/muiTheme\";\nimport { importWebFontForTogoMedium } from \"../../shared/utils/stanza\";\n\nexport default class HelloReact extends Stanza<StanzaParameters> {\n  async render() {\n    this._render();\n    importWebFontForTogoMedium(this);\n  }\n\n  handleAttributeChange() {\n    this._render();\n  }\n\n  _render() {\n    const main = this.root.querySelector(\"main\");\n    ReactDOM.render(\n      <StrictMode>\n        <RecoilRoot>\n          <ThemeProvider theme={muiTheme}>\n            <EmotionCacheProvider>\n              <App stanzaElement={this.root} />\n            </EmotionCacheProvider>\n          </ThemeProvider>\n        </RecoilRoot>\n      </StrictMode>,\n      main\n    );\n  }\n}\n\ntype StanzaParameters = {};\n"],"names":["useState","_jsx","_jsxs","_createElement","atom","useRecoilValue","useSetRecoilState","useEffect","StrictMode","RecoilRoot"],"mappings":"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"}